<div class="flex">
  <app-sidebar></app-sidebar>
  <div class="flex-1 min-h-screen bg-[#424042] py-6 ml-5 sm:ml-40 md:ml-56 lg:ml-64">
    <div class="max-w-2xl mx-auto px-4">
      <div class="bg-gradient-to-r from-[#4a3a6e] to-[#2a292a] rounded-lg shadow-lg mb-8 p-6 border border-[#3d3c3d]">
        <h1 class="text-3xl font-bold text-white mb-2">New Card</h1>
        <p class="text-purple-200">Create a new card</p>
      </div>
      <form #cardForm="ngForm" (ngSubmit)="onSubmit(cardForm)" class="space-y-4">
        <div>
          <label class="block text-gray-300 mb-2">Owner Name</label>
          <input [(ngModel)]="card.ownerName" name="ownerName" #ownerName="ngModel" type="text" required class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (ownerName.invalid && ownerName.touched) {
            <div class="text-red-500 text-sm">Owner name is required.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Card Number</label>
          <input [(ngModel)]="card.cardNumber" name="cardNumber" #cardNumber="ngModel" type="text" required pattern="\d{16}" class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (cardNumber.errors?.['required'] && cardNumber.touched) {
            <div class="text-red-500 text-sm">Card number is required.</div>
          }
          @if (cardNumber.errors?.['pattern'] && cardNumber.touched) {
            <div class="text-red-500 text-sm">Card number must be 16 digits.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Expiration Date</label>
          <input [(ngModel)]="card.expirationDate" name="expirationDate" #expirationDate="ngModel" type="date" required class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (expirationDate.invalid && expirationDate.touched) {
            <div class="text-red-500 text-sm">Expiration date is required.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">User jmbg</label>
          <input [(ngModel)]="card.userJmbg" name="userId" #userId="ngModel" type="text" required pattern="\d{13}"  class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (userId.errors?.['required'] && userId.touched) {
            <div class="text-red-500 text-sm">User jmbg is required.</div>
          }
          @if (userId.errors?.['pattern'] && userId.touched) {
            <div class="text-red-500 text-sm">User jmbg must have 13 digits.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Account Number</label>
          <input [(ngModel)]="card.accountNumber" name="accountNumber" #accountNumber="ngModel" type="number" required class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (accountNumber.invalid && accountNumber.touched) {
            <div class="text-red-500 text-sm">Account number is required.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Card Type</label>
          <select [(ngModel)]="card.cardType" name="cardType" class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white">
            <option value="debit">Debit</option>
            <option value="credit">Credit</option>
          </select>
        </div>
        <div class="pt-4 space-x-2">
          <button type="submit" [disabled]="cardForm.invalid" class="px-4 py-2 bg-[#4a3a6e] text-white rounded hover:bg-[#5d4a85] disabled:opacity-50">Save</button>
          <button (click)="backToCardList()"
                  class="px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700">
            Back
          </button>

        </div>
      </form>
    </div>
  </div>
</div>

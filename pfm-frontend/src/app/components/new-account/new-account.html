<div class="flex">
  <app-sidebar></app-sidebar>
  <div class="ml-40 sm:ml-56 md:ml-64 flex-1 min-h-screen bg-[#424042] py-8">
    <div class="max-w-2xl mx-auto px-4">
      <div class="bg-gradient-to-r from-[#4a3a6e] to-[#2a292a] rounded-lg shadow-lg mb-8 p-6 border border-[#3d3c3d]">
        <h1 class="text-3xl font-bold text-white mb-2">New Account</h1>
        <p class="text-purple-200">Create a new account</p>
      </div>
      <form #accountForm="ngForm" (ngSubmit)="onSubmit(accountForm)" class="space-y-4">
        <div>
          <label class="block text-gray-300 mb-2">Account Number</label>
          <input [(ngModel)]="account.accountNumber" name="accountNumber" #accountNumber="ngModel" type="number" required class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (accountNumber.invalid && accountNumber.touched) {
            <div class="text-red-500 text-sm">Account number is required.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Available Amount</label>
          <input [(ngModel)]="account.availableAmount" name="availableAmount" #availableAmount="ngModel" type="number" min="0" required class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (availableAmount.invalid && availableAmount.touched) {
            <div class="text-red-500 text-sm">Available amount must be non-negative.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Reserved Amount</label>
          <input [(ngModel)]="account.reservedAmount" name="reservedAmount" #reservedAmount="ngModel" type="number" min="0" required class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (reservedAmount.invalid && reservedAmount.touched) {
            <div class="text-red-500 text-sm">Reserved amount must be non-negative.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Currency</label>
          <input [(ngModel)]="account.currency" name="currency" #currency="ngModel" type="text" required pattern="[A-Za-z]{3}" class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (currency.errors?.['required'] && currency.touched) {
            <div class="text-red-500 text-sm">Currency is required.</div>
          }
          @if (currency.errors?.['pattern'] && currency.touched) {
            <div class="text-red-500 text-sm">Currency must be 3 letters.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">User jmbg</label>
          <input [(ngModel)]="account.userJmbg" name="userJmbg" #userJmbg="ngModel" type="text" required pattern="\\d{13}" class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white" />
          @if (userJmbg.errors?.['required'] && userJmbg.touched) {
            <div class="text-red-500 text-sm">User jmbg is required.</div>
          }
          @if (userJmbg.errors?.['pattern'] && userJmbg.touched) {
            <div class="text-red-500 text-sm">User jmbg must have 13 digits.</div>
          }
        </div>
        <div>
          <label class="block text-gray-300 mb-2">Account Type</label>
          <select [(ngModel)]="account.accountType" name="accountType" class="w-full px-3 py-2 rounded bg-[#2a292a] border border-[#4a3a6e] text-white">
            <option value="checking">Checking</option>
            <option value="savings">Savings</option>
            <option value="credit">Credit</option>
          </select>
        </div>
        <div class="pt-4 space-x-2">
          <button type="submit" [disabled]="accountForm.invalid" class="px-4 py-2 bg-[#4a3a6e] text-white rounded hover:bg-[#5d4a85] disabled:opacity-50">Save</button>
          <button (click)="backToAccountList()" class="px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700">Back</button>
        </div>
      </form>
    </div>
  </div>
</div>
